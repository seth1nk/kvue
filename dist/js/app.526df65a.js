(function(){"use strict";var t={750:function(t,e,a){var s=a(5130),r=a(6768),n=a(4232);const l={class:"wrapper"},o={class:"right-panel"},i={class:"logo-container"},c={class:"nav-buttons"},u={class:"button-list"},d={key:0},g={key:1},p={key:2},m={key:3},h={key:4,class:"welcome-message"},k={key:5},v={key:6};function f(t,e,a,s,f,L){const b=(0,r.g2)("router-view"),y=(0,r.g2)("TheWelcome"),w=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("header",null,[(0,r.Lk)("div",l,[(0,r.bF)(b)]),e[1]||(e[1]=(0,r.Lk)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap",rel:"stylesheet"},null,-1))]),(0,r.Lk)("main",null,[(0,r.bF)(y)]),(0,r.Lk)("aside",o,[(0,r.Lk)("div",i,[(0,r.bF)(w,{to:"/"},{default:(0,r.k6)((()=>e[2]||(e[2]=[(0,r.Lk)("img",{src:"/images/logo.png",alt:"Logo",class:"logo"},null,-1)]))),_:1})]),(0,r.Lk)("nav",c,[(0,r.Lk)("ul",u,[(0,r.Lk)("li",null,[(0,r.bF)(w,{to:"/",class:"button"},{default:(0,r.k6)((()=>e[3]||(e[3]=[(0,r.eW)("Главная")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(w,{to:"/about",class:"button"},{default:(0,r.k6)((()=>e[4]||(e[4]=[(0,r.eW)("О нас")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(w,{to:"/contact",class:"button"},{default:(0,r.k6)((()=>e[5]||(e[5]=[(0,r.eW)("Контакты")]))),_:1})]),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",d,[(0,r.bF)(w,{to:"/products",class:"button"},{default:(0,r.k6)((()=>e[6]||(e[6]=[(0,r.eW)("Товары")]))),_:1})])):(0,r.Q3)("",!0),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",g,[(0,r.bF)(w,{to:"/clients",class:"button"},{default:(0,r.k6)((()=>e[7]||(e[7]=[(0,r.eW)("Клиенты")]))),_:1})])):(0,r.Q3)("",!0),f.isAuthenticated?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("li",p,[(0,r.bF)(w,{to:"/login",class:"button"},{default:(0,r.k6)((()=>e[8]||(e[8]=[(0,r.eW)("Войти")]))),_:1})])),f.isAuthenticated?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("li",m,[(0,r.bF)(w,{to:"/register",class:"button"},{default:(0,r.k6)((()=>e[9]||(e[9]=[(0,r.eW)("Зарегистрироваться")]))),_:1})])),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",h,[(0,r.Lk)("span",null,"Добро пожаловать, "+(0,n.v_)(f.username),1)])):(0,r.Q3)("",!0),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",k,[(0,r.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>L.logout&&L.logout(...t)),class:"button"},"Выйти")])):(0,r.Q3)("",!0),f.isAuthenticated&&"admin"===f.role?((0,r.uX)(),(0,r.CE)("li",v,e[10]||(e[10]=[(0,r.Lk)("a",{href:"http://localhost:3000",class:"admin-button"},"Админ-панель",-1)]))):(0,r.Q3)("",!0)])])])],64)}a(4114);var L={data(){return{isAuthenticated:!1,username:"",role:""}},created(){this.checkAuth()},methods:{async checkAuth(){try{const t=await fetch("http://localhost:3000/auth/check",{method:"GET",credentials:"include"}),e=await t.json();t.ok?(this.isAuthenticated=!0,this.username=e.username||"Пользователь",this.role=e.role||""):(console.error("Токен недействителен:",e.message),this.isAuthenticated=!1,this.username="",this.role="")}catch(t){console.error("Ошибка проверки авторизации:",t),this.isAuthenticated=!1,this.username="",this.role=""}},async logout(){try{const t=await fetch("http://localhost:3000/auth/logout",{method:"GET",credentials:"include"});t.ok?(this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")):console.error("Сервер вернул ошибку при выходе")}catch(t){console.error("Ошибка выхода:",t),this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")}}}},b=a(1241);const y=(0,b.A)(L,[["render",f],["__scopeId","data-v-227243a6"]]);var w=y,_=a(1387);const E={class:"container"},P={class:"flex flex-col sm:flex-row gap-6 mb-10 justify-center"},x=["src","alt"],C={class:"card-body"},X={class:"text-xl font-bold text-center mb-3"},A={class:"grid grid-cols-1 md:grid-cols-1 gap-6 mb-12"},$={class:"content-block card fade-in",style:{animationDelay:"0.2s"}},I={class:"text-lg space-y-4"},j={class:"text-gray-600"};function W(t,e,a,s,l,o){return(0,r.uX)(),(0,r.CE)("main",null,[(0,r.Lk)("div",E,[e[2]||(e[2]=(0,r.Lk)("h1",{class:"page-title"},"Добро пожаловать в нашу онлайн-аптеку",-1)),(0,r.Lk)("div",P,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.services,((t,e)=>((0,r.uX)(),(0,r.CE)("div",{class:"image-block-centered card fade-in",key:e,style:(0,n.Tr)({animationDelay:.2*e+"s"})},[(0,r.Lk)("img",{src:t.image,alt:t.name,class:"img-block h-48 w-full object-cover"},null,8,x),(0,r.Lk)("div",C,[(0,r.Lk)("h5",X,(0,n.v_)(t.name),1)])],4)))),128))]),(0,r.Lk)("div",A,[(0,r.Lk)("div",$,[e[1]||(e[1]=(0,r.Lk)("h4",{class:"text-2xl font-bold mb-4 text-center"},"Ваше здоровье — наш приоритет",-1)),(0,r.Lk)("ul",I,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.reasons,((t,a)=>((0,r.uX)(),(0,r.CE)("li",{class:"flex items-center bg-white bg-opacity-20 p-3 rounded-lg fade-in",key:a,style:(0,n.Tr)({animationDelay:.2*(a+1)+"s"})},[e[0]||(e[0]=(0,r.Lk)("span",{class:"text-green-500 mr-3 text-2xl"},"✅",-1)),(0,r.Lk)("span",j,(0,n.v_)(t),1)],4)))),128))])])])])])}a(8111),a(7588);var T={name:"HomePage",data(){return{services:[{name:"Лекарства",image:"/images/1.jpg"},{name:"Витамины",image:"/images/2.jpg"},{name:"Аптека",image:"/images/3.jpg"}],reasons:["Доступные цены на сертифицированные препараты","Индивидуальный подход к каждому клиенту","Удобный поиск и заказ лекарств онлайн","Надежная защита ваших данных"]}},mounted(){try{const t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((e=>{t.observe(e)}))}catch(t){console.error("Error setting up IntersectionObserver:",t)}}};const D=(0,b.A)(T,[["render",W],["__scopeId","data-v-78e85af9"]]);var F=D;const O={class:"container"},S={class:"content-block fade-in",ref:"block1"},Q={class:"content-block fade-in",ref:"block2"},U={class:"content-block fade-in",ref:"block3"},N={class:"content-block fade-in",ref:"block4"},M={class:"content-block fade-in",ref:"block5"};function q(t,e,a,s,n,l){return(0,r.uX)(),(0,r.CE)("main",null,[(0,r.Lk)("div",O,[e[5]||(e[5]=(0,r.Lk)("h1",{class:"page-title"},"О нашей аптеке",-1)),(0,r.Lk)("div",S,e[0]||(e[0]=[(0,r.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-42c413a8><div class="md:w-1/2 text-block" data-v-42c413a8><h2 class="text-2xl font-bold mb-4" data-v-42c413a8>Наши ценности</h2><p class="fs-5" data-v-42c413a8> Наша онлайн-аптека заботится о вашем здоровье. Мы предлагаем только сертифицированные препараты от проверенных поставщиков. Каждый товар проходит строгий контроль качества перед продажей. </p></div><div class="md:w-1/2 image-block" data-v-42c413a8><img src="/images/1.jpg" alt="Наши ценности" class="img-block" data-v-42c413a8></div></div>',1)]),512),(0,r.Lk)("div",Q,e[1]||(e[1]=[(0,r.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-42c413a8><div class="md:w-1/2 image-block order-2 md:order-1" data-v-42c413a8><img src="/images/p2.jpg" alt="Ассортимент" class="img-block" data-v-42c413a8></div><div class="md:w-1/2 text-block order-1 md:order-2" data-v-42c413a8><h2 class="text-2xl font-bold mb-4" data-v-42c413a8>Ассортимент</h2><p class="fs-5" data-v-42c413a8> В нашем каталоге вы найдете лекарственные средства, витамины, косметику, товары для детей и пожилых людей, а также медицинские приборы — всё для комплексного ухода за здоровьем всей семьи. </p></div></div>',1)]),512),(0,r.Lk)("div",U,e[2]||(e[2]=[(0,r.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-42c413a8><div class="md:w-1/2 text-block" data-v-42c413a8><h2 class="text-2xl font-bold mb-4" data-v-42c413a8>Квалифицированная помощь</h2><p class="fs-5" data-v-42c413a8> Наши опытные фармацевты всегда готовы проконсультировать вас по любым вопросам, связанным с применением лекарств, совместимостью препаратов и выбором аналогов. </p></div><div class="md:w-1/2 image-block" data-v-42c413a8><img src="/images/3.jpg" alt="Квалифицированная помощь" class="img-block" data-v-42c413a8></div></div>',1)]),512),(0,r.Lk)("div",N,e[3]||(e[3]=[(0,r.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-42c413a8><div class="md:w-1/2 image-block order-2 md:order-1" data-v-42c413a8><img src="/images/2.jpg" alt="Быстрая доставка" class="img-block" data-v-42c413a8></div><div class="md:w-1/2 text-block order-1 md:order-2" data-v-42c413a8><h2 class="text-2xl font-bold mb-4" data-v-42c413a8>Быстрая доставка</h2><p class="fs-5" data-v-42c413a8> Мы обеспечиваем оперативную доставку заказов по городу и регионам. Также доступна экспресс-доставка жизненно важных препаратов в течение нескольких часов. </p></div></div>',1)]),512),(0,r.Lk)("div",M,e[4]||(e[4]=[(0,r.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-42c413a8><div class="md:w-1/2 text-block" data-v-42c413a8><h2 class="text-2xl font-bold mb-4" data-v-42c413a8>Удобство и безопасность</h2><p class="fs-5" data-v-42c413a8> Вы можете оплатить заказ онлайн или при получении. Мы используем современные технологии шифрования данных, чтобы защитить вашу персональную информацию. </p></div><div class="md:w-1/2 image-block" data-v-42c413a8><img src="/images/p1.jpg" alt="Удобство и безопасность" class="img-block" data-v-42c413a8></div></div>',1)]),512)])])}var R={name:"AboutPage",mounted(){try{const t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((e=>{t.observe(e)}))}catch(t){console.error("Error setting up IntersectionObserver:",t)}}};const V=(0,b.A)(R,[["render",q],["__scopeId","data-v-42c413a8"]]);var G=V;const H={class:"container"},J={class:"mb-12"},K={class:"employees-row"},z={class:"card"},Z=["src","alt"],B={class:"card-body"},Y={class:"card-title"},tt={class:"card-text text-red-600"};function et(t,e,a,s,l,o){return(0,r.uX)(),(0,r.CE)("main",null,[(0,r.Lk)("div",H,[e[1]||(e[1]=(0,r.Lk)("h1",{class:"page-title"},"Наши сотрудники",-1)),(0,r.Lk)("div",J,[e[0]||(e[0]=(0,r.Lk)("h2",{class:"text-2xl font-bold text-center mb-6"},"Профессионалы, которые заботятся о вашем здоровье",-1)),(0,r.Lk)("div",K,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.employees,((t,e)=>((0,r.uX)(),(0,r.CE)("div",{class:"employee-card photo-card fade-in",key:e,style:(0,n.Tr)({animationDelay:.2*e+"s"})},[(0,r.Lk)("div",z,[(0,r.Lk)("img",{src:t.image,alt:t.name,class:"card-img-top"},null,8,Z),(0,r.Lk)("div",B,[(0,r.Lk)("h3",Y,(0,n.v_)(t.name),1),(0,r.Lk)("p",tt,(0,n.v_)(t.role),1)])])],4)))),128))])])])])}var at={name:"ContactPage",data(){return{employees:[{name:"Иванова Ольга Петровна",role:"Главный фармацевт",image:"/images/t1.jpg"},{name:"Петров Андрей Сергеевич",role:"Менеджер по продажам",image:"/images/t2.jpg"},{name:"Смирнова Елена Алексеевна",role:"Консультант по здоровью",image:"/images/t3.jpg"},{name:"Кузнецов Максим Игоревич",role:"Логист",image:"/images/t4.jpg"},{name:"Алексеев Дмитрий Владимирович",role:"Финансовый директор",image:"/images/t5.jpg"},{name:"Сидорова Наталья Сергеевна",role:"HR-менеджер",image:"/images/t6.jpg"}]}},mounted(){try{const t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((e=>{t.observe(e)}))}catch(t){console.error("Error setting up IntersectionObserver:",t)}}};const st=(0,b.A)(at,[["render",et],["__scopeId","data-v-56f1e438"]]);var rt=st;const nt={class:"app-container"},lt={style:{"text-align":"center","margin-bottom":"20px"}},ot={class:"table-container"},it={class:"styled-table clients-table"},ct=["src"],ut={key:1},dt={class:"action-buttons"},gt={key:0,class:"no-data"},pt={key:1,class:"pagination"},mt=["disabled"],ht=["disabled"];function kt(t,e,a,s,l,o){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[e[6]||(e[6]=(0,r.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,r.Lk)("div",nt,[e[5]||(e[5]=(0,r.Lk)("h1",{class:"page-title"},"Список клиентов",-1)),(0,r.Lk)("div",lt,[(0,r.bF)(i,{to:"/clients/create",class:"btn-primary"},{default:(0,r.k6)((()=>e[2]||(e[2]=[(0,r.eW)("Добавить клиента")]))),_:1})]),(0,r.Lk)("div",ot,[(0,r.Lk)("table",it,[e[4]||(e[4]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Имя"),(0,r.Lk)("th",null,"Фамилия"),(0,r.Lk)("th",null,"Отчество"),(0,r.Lk)("th",null,"Email"),(0,r.Lk)("th",null,"Телефон"),(0,r.Lk)("th",null,"Адрес"),(0,r.Lk)("th",null,"Дата рождения"),(0,r.Lk)("th",null,"Подписан"),(0,r.Lk)("th",null,"Фото"),(0,r.Lk)("th",null,"Действия")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.clients,((t,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:t.id},[(0,r.Lk)("td",null,(0,n.v_)((l.currentPage-1)*l.pageSize+a+1),1),(0,r.Lk)("td",null,(0,n.v_)(t.first_name||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(t.last_name||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(t.middle_name||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(t.email||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(t.phone||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(t.address||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(o.formatDate(t.birth_date)||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(t.subscribed?"Да":"Нет"),1),(0,r.Lk)("td",null,[t.photo?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${l.backendUrl}${t.photo.replace("/images/","/images/")}`,alt:"Client Photo",class:"product-image"},null,8,ct)):((0,r.uX)(),(0,r.CE)("span",ut,"N/A"))]),(0,r.Lk)("td",null,[(0,r.Lk)("div",dt,[(0,r.bF)(i,{to:`/client/${t.id}`,class:"action-btn view-icon"},{default:(0,r.k6)((()=>e[3]||(e[3]=[(0,r.Lk)("i",{class:"fas fa-eye"},null,-1)]))),_:2},1032,["to"])])])])))),128))])]),l.clients.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",gt,"Нет клиентов")),l.totalPages>1?((0,r.uX)(),(0,r.CE)("div",pt,[(0,r.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>o.prevPage&&o.prevPage(...t)),disabled:1===l.currentPage},"← Предыдущая",8,mt),(0,r.Lk)("span",null,"Страница "+(0,n.v_)(l.currentPage)+" из "+(0,n.v_)(l.totalPages),1),(0,r.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>o.nextPage&&o.nextPage(...t)),disabled:l.currentPage===l.totalPages},"Следующая →",8,ht)])):(0,r.Q3)("",!0)])])])}var vt={name:"ClientList",data(){return{clients:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"http://localhost:3000"}},async created(){await this.fetchClients()},methods:{async fetchClients(){try{const t=await fetch(`${this.backendUrl}/api/clients?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${t.status}`)}const e=await t.json();this.clients=e.clients||[],this.totalPages=e.totalPages||0,this.currentPage=e.currentPage||1}catch(t){console.error("Ошибка при загрузке клиентов:",t),this.clients=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchClients())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchClients())},formatDate(t){if(!t)return"N/A";const e=new Date(t);return e.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})}}};const ft=(0,b.A)(vt,[["render",kt],["__scopeId","data-v-35aca5a4"]]);var Lt=ft;const bt={class:"app-container"},yt={style:{"text-align":"center","margin-bottom":"20px"}},wt={class:"table-container"},_t={class:"styled-table products-table"},Et=["src","onError"],Pt={key:1},xt={class:"action-buttons"},Ct={key:0,class:"no-data"},Xt={key:1,class:"pagination"},At=["disabled"],$t=["disabled"];function It(t,e,a,s,l,o){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[e[6]||(e[6]=(0,r.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,r.Lk)("div",bt,[e[5]||(e[5]=(0,r.Lk)("h1",{class:"page-title"},"Список товаров",-1)),(0,r.Lk)("div",yt,[(0,r.bF)(i,{to:"/products/create",class:"btn-primary"},{default:(0,r.k6)((()=>e[2]||(e[2]=[(0,r.eW)("Добавить товар")]))),_:1})]),(0,r.Lk)("div",wt,[(0,r.Lk)("table",_t,[e[4]||(e[4]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Название"),(0,r.Lk)("th",null,"Производитель"),(0,r.Lk)("th",null,"Категория"),(0,r.Lk)("th",null,"Цена"),(0,r.Lk)("th",null,"Количество"),(0,r.Lk)("th",null,"Срок годности"),(0,r.Lk)("th",null,"Рецепт"),(0,r.Lk)("th",null,"Изображение"),(0,r.Lk)("th",null,"Действия")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.products,((t,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:t.id},[(0,r.Lk)("td",null,(0,n.v_)((l.currentPage-1)*l.pageSize+a+1),1),(0,r.Lk)("td",null,(0,n.v_)(t.name||"-"),1),(0,r.Lk)("td",null,(0,n.v_)(t.manufacturer||"-"),1),(0,r.Lk)("td",null,(0,n.v_)(t.category||"-"),1),(0,r.Lk)("td",null,(0,n.v_)(o.formatPrice(t.price)),1),(0,r.Lk)("td",null,(0,n.v_)(t.stock_quantity||"-"),1),(0,r.Lk)("td",null,(0,n.v_)(o.formatDate(t.expiration_date)||"-"),1),(0,r.Lk)("td",null,(0,n.v_)(t.prescription_required?"Да":"Нет"),1),(0,r.Lk)("td",null,[t.image?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${l.backendUrl}${t.image.replace("/img/","/images/")}`,alt:"Product Image",class:"product-image",onError:e=>o.handleImageError(t)},null,40,Et)):((0,r.uX)(),(0,r.CE)("span",Pt,"-"))]),(0,r.Lk)("td",null,[(0,r.Lk)("div",xt,[(0,r.bF)(i,{to:`/product/${t.id}`,class:"action-btn view-icon"},{default:(0,r.k6)((()=>e[3]||(e[3]=[(0,r.Lk)("i",{class:"fas fa-eye"},null,-1)]))),_:2},1032,["to"])])])])))),128))])]),l.products.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",Ct,"Нет товаров")),l.totalPages>1?((0,r.uX)(),(0,r.CE)("div",Xt,[(0,r.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>o.prevPage&&o.prevPage(...t)),disabled:1===l.currentPage},"← Предыдущая",8,At),(0,r.Lk)("span",null,"Страница "+(0,n.v_)(l.currentPage)+" из "+(0,n.v_)(l.totalPages),1),(0,r.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>o.nextPage&&o.nextPage(...t)),disabled:l.currentPage===l.totalPages},"Следующая →",8,$t)])):(0,r.Q3)("",!0)])])])}var jt={name:"ProductList",data(){return{products:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"http://localhost:3000"}},async created(){await this.fetchProducts()},methods:{async fetchProducts(){try{const t=await fetch(`${this.backendUrl}/api/products?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${t.status}`)}const e=await t.json();console.log("API Response:",e),this.products=e.products||[],this.totalPages=e.totalPages||0,this.currentPage=e.currentPage||1}catch(t){console.error("Ошибка при загрузке товаров:",t),this.products=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchProducts())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchProducts())},formatDate(t){if(!t)return"N/A";const e=new Date(t);return e.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})},formatPrice(t){if(null==t)return"-";const e=parseFloat(t);return isNaN(e)?"-":`${e.toFixed(2)} ₽`},handleImageError(t){console.error(`Failed to load image for product ${t.id}: ${t.image}`)}}};const Wt=(0,b.A)(jt,[["render",It],["__scopeId","data-v-778227a2"]]);var Tt=Wt;const Dt={class:"container"},Ft={class:"form-group"},Ot={class:"form-group"},St={key:0,class:"error"};function Qt(t,e,a,l,o,i){return(0,r.uX)(),(0,r.CE)("div",Dt,[e[6]||(e[6]=(0,r.Lk)("h2",null,"Вход",-1)),(0,r.Lk)("form",{onSubmit:e[2]||(e[2]=(0,s.D$)(((...t)=>i.login&&i.login(...t)),["prevent"]))},[(0,r.Lk)("div",Ft,[e[3]||(e[3]=(0,r.Lk)("label",{for:"email"},"Email:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>o.email=t),required:"",class:"form-input"},null,512),[[s.Jo,o.email]])]),(0,r.Lk)("div",Ot,[e[4]||(e[4]=(0,r.Lk)("label",{for:"password"},"Пароль:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>o.password=t),required:"",class:"form-input"},null,512),[[s.Jo,o.password]])]),e[5]||(e[5]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"Войти",-1)),o.error?((0,r.uX)(),(0,r.CE)("p",St,(0,n.v_)(o.error),1)):(0,r.Q3)("",!0)],32)])}var Ut={data(){return{email:"",password:"",error:""}},methods:{async login(){try{console.log("Logging in with data:",{email:this.email,password:this.password});const t=await fetch("http://localhost:3000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:this.email,password:this.password})}),e=await t.json();console.log("Login response:",e),t.ok?(localStorage.setItem("token",e.token),this.$router.push("/"),setTimeout((()=>{location.reload()}),500)):this.error=e.message||"Ошибка входа"}catch(t){console.error("Error during login:",t),this.error="Ошибка сервера"}}}};const Nt=(0,b.A)(Ut,[["render",Qt],["__scopeId","data-v-0c964ea8"]]);var Mt=Nt;const qt={class:"container"},Rt={class:"form-group"},Vt={class:"form-group"},Gt={class:"form-group"},Ht={key:0,class:"error"};function Jt(t,e,a,l,o,i){return(0,r.uX)(),(0,r.CE)("div",qt,[e[8]||(e[8]=(0,r.Lk)("h2",null,"Регистрация",-1)),(0,r.Lk)("form",{onSubmit:e[3]||(e[3]=(0,s.D$)(((...t)=>i.register&&i.register(...t)),["prevent"]))},[(0,r.Lk)("div",Rt,[e[4]||(e[4]=(0,r.Lk)("label",{for:"username"},"Имя пользователя:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=t=>o.username=t),required:"",class:"form-input"},null,512),[[s.Jo,o.username]])]),(0,r.Lk)("div",Vt,[e[5]||(e[5]=(0,r.Lk)("label",{for:"email"},"Email:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=t=>o.email=t),required:"",class:"form-input"},null,512),[[s.Jo,o.email]])]),(0,r.Lk)("div",Gt,[e[6]||(e[6]=(0,r.Lk)("label",{for:"password"},"Пароль:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[2]||(e[2]=t=>o.password=t),required:"",class:"form-input"},null,512),[[s.Jo,o.password]])]),e[7]||(e[7]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"Зарегистрироваться",-1)),o.error?((0,r.uX)(),(0,r.CE)("p",Ht,(0,n.v_)(o.error),1)):(0,r.Q3)("",!0)],32)])}var Kt={data(){return{username:"",email:"",password:"",error:""}},methods:{async register(){try{console.log("Registering user with data:",{username:this.username,email:this.email,password:this.password});const t=await fetch("http://localhost:3000/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,email:this.email,password:this.password})}),e=await t.json();console.log("Registration response:",e),t.ok?this.$router.push("/login"):this.error=e.message||"Ошибка регистрации"}catch(t){console.error("Error during registration:",t),this.error="Ошибка сервера"}}}};const zt=(0,b.A)(Kt,[["render",Jt],["__scopeId","data-v-4c6411a6"]]);var Zt=zt;const Bt={class:"app-container"},Yt={key:0,class:"loading-message"},te={key:1,class:"error-message"},ee={key:2,class:"client-details"},ae={class:"product-image-container"},se=["src"],re={key:1},ne={class:"client-info"},le={class:"action-buttons"},oe={key:3,class:"error-message"};function ie(t,e,a,s,l,o){return(0,r.uX)(),(0,r.CE)("div",Bt,[e[10]||(e[10]=(0,r.Lk)("h1",{class:"page-title"},"Просмотр клиента",-1)),l.loading?((0,r.uX)(),(0,r.CE)("div",Yt,"Загрузка данных...")):l.errorMessage?((0,r.uX)(),(0,r.CE)("div",te,(0,n.v_)(l.errorMessage),1)):l.client?((0,r.uX)(),(0,r.CE)("div",ee,[(0,r.Lk)("div",ae,[l.client.photo?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${l.backendUrl}${l.client.photo.replace("/img/","/images/")}`,alt:"Client Photo",class:"product-image"},null,8,se)):((0,r.uX)(),(0,r.CE)("span",re,"Нет изображения"))]),(0,r.Lk)("div",ne,[(0,r.Lk)("p",null,[e[1]||(e[1]=(0,r.Lk)("strong",null,"Имя:",-1)),(0,r.eW)(" "+(0,n.v_)(l.client.first_name||"-"),1)]),(0,r.Lk)("p",null,[e[2]||(e[2]=(0,r.Lk)("strong",null,"Фамилия:",-1)),(0,r.eW)(" "+(0,n.v_)(l.client.last_name||"-"),1)]),(0,r.Lk)("p",null,[e[3]||(e[3]=(0,r.Lk)("strong",null,"Отчество:",-1)),(0,r.eW)(" "+(0,n.v_)(l.client.middle_name||"-"),1)]),(0,r.Lk)("p",null,[e[4]||(e[4]=(0,r.Lk)("strong",null,"Email:",-1)),(0,r.eW)(" "+(0,n.v_)(l.client.email_address||"-"),1)]),(0,r.Lk)("p",null,[e[5]||(e[5]=(0,r.Lk)("strong",null,"Телефон:",-1)),(0,r.eW)(" "+(0,n.v_)(l.client.phone_number||"-"),1)]),(0,r.Lk)("p",null,[e[6]||(e[6]=(0,r.Lk)("strong",null,"Адрес:",-1)),(0,r.eW)(" "+(0,n.v_)(l.client.address||"-"),1)]),(0,r.Lk)("p",null,[e[7]||(e[7]=(0,r.Lk)("strong",null,"Дата рождения:",-1)),(0,r.eW)(" "+(0,n.v_)(o.formatDate(l.client.birth_date)||"-"),1)]),(0,r.Lk)("p",null,[e[8]||(e[8]=(0,r.Lk)("strong",null,"Подписан:",-1)),(0,r.eW)(" "+(0,n.v_)(l.client.subscribed?"Да":"Нет"),1)]),(0,r.Lk)("p",null,[e[9]||(e[9]=(0,r.Lk)("strong",null,"Дата создания:",-1)),(0,r.eW)(" "+(0,n.v_)(o.formatDate(l.client.created_at)||"-"),1)])]),(0,r.Lk)("div",le,[(0,r.Lk)("button",{class:"btn-secondary",onClick:e[0]||(e[0]=e=>t.$router.push("/clients"))},"Вернуться к списку")])])):((0,r.uX)(),(0,r.CE)("div",oe,"Не удалось загрузить данные о клиенте."))])}var ce={name:"ViewClient",data(){return{client:null,loading:!0,errorMessage:null,backendUrl:"http://localhost:8000"}},async created(){const t=this.$route.params.id;if(!/^\d+$/.test(t))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchClient(t)},methods:{async fetchClient(t){try{const e=await fetch(`${this.backendUrl}/api/view-client/${t}`,{method:"GET",credentials:"include"});if(!e.ok){if(401===e.status)return void this.$router.push("/login");if(404===e.status)throw new Error("Клиент не найден");throw new Error(`HTTP error! Status: ${e.status}`)}const a=await e.json();this.client=a}catch(e){console.error("Ошибка при получении данных клиента:",e),this.errorMessage=e.message}finally{this.loading=!1}},formatDate(t){if(!t)return"N/A";const e=new Date(t);return e.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})}}};const ue=(0,b.A)(ce,[["render",ie],["__scopeId","data-v-bc6a97f0"]]);var de=ue;const ge={class:"app-container"},pe={key:0,class:"loading-message"},me={key:1,class:"error-message"},he={key:2,class:"product-details"},ke={class:"product-image-container"},ve=["src"],fe={key:1},Le={class:"product-info"},be={class:"action-buttons"},ye={key:3,class:"error-message"};function we(t,e,a,s,l,o){return(0,r.uX)(),(0,r.CE)("div",ge,[e[9]||(e[9]=(0,r.Lk)("h1",{class:"page-title"},"Просмотр товара",-1)),l.loading?((0,r.uX)(),(0,r.CE)("div",pe,"Загрузка данных...")):l.errorMessage?((0,r.uX)(),(0,r.CE)("div",me,(0,n.v_)(l.errorMessage),1)):l.product?((0,r.uX)(),(0,r.CE)("div",he,[(0,r.Lk)("div",ke,[l.product.image?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${l.backendUrl}${l.product.image.replace("/img/","/images/")}`,alt:"Product Image",class:"product-image"},null,8,ve)):((0,r.uX)(),(0,r.CE)("span",fe,"Нет изображения"))]),(0,r.Lk)("div",Le,[(0,r.Lk)("p",null,[e[1]||(e[1]=(0,r.Lk)("strong",null,"Название:",-1)),(0,r.eW)(" "+(0,n.v_)(l.product.name||"-"),1)]),(0,r.Lk)("p",null,[e[2]||(e[2]=(0,r.Lk)("strong",null,"Производитель:",-1)),(0,r.eW)(" "+(0,n.v_)(l.product.manufacturer||"-"),1)]),(0,r.Lk)("p",null,[e[3]||(e[3]=(0,r.Lk)("strong",null,"Категория:",-1)),(0,r.eW)(" "+(0,n.v_)(l.product.category||"-"),1)]),(0,r.Lk)("p",null,[e[4]||(e[4]=(0,r.Lk)("strong",null,"Цена:",-1)),(0,r.eW)(" "+(0,n.v_)(l.product.price?`${l.product.price.toFixed(2)} ₽`:"-"),1)]),(0,r.Lk)("p",null,[e[5]||(e[5]=(0,r.Lk)("strong",null,"Количество на складе:",-1)),(0,r.eW)(" "+(0,n.v_)(l.product.stock_quantity||"-"),1)]),(0,r.Lk)("p",null,[e[6]||(e[6]=(0,r.Lk)("strong",null,"Срок годности:",-1)),(0,r.eW)(" "+(0,n.v_)(o.formatDate(l.product.expiration_date)||"-"),1)]),(0,r.Lk)("p",null,[e[7]||(e[7]=(0,r.Lk)("strong",null,"Требуется рецепт:",-1)),(0,r.eW)(" "+(0,n.v_)(l.product.prescription_required?"Да":"Нет"),1)]),(0,r.Lk)("p",null,[e[8]||(e[8]=(0,r.Lk)("strong",null,"Дата создания:",-1)),(0,r.eW)(" "+(0,n.v_)(o.formatDate(l.product.created_at)||"-"),1)])]),(0,r.Lk)("div",be,[(0,r.Lk)("button",{class:"btn-secondary",onClick:e[0]||(e[0]=e=>t.$router.push("/products"))},"Вернуться к списку")])])):((0,r.uX)(),(0,r.CE)("div",ye,"Не удалось загрузить данные о товаре."))])}var _e={name:"ViewProduct",data(){return{product:null,loading:!0,errorMessage:null,backendUrl:"http://localhost:8000"}},async created(){const t=this.$route.params.id;if(!/^\d+$/.test(t))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchProduct(t)},methods:{async fetchProduct(t){try{const e=await fetch(`${this.backendUrl}/api/view-product/${t}`,{method:"GET",credentials:"include"});if(!e.ok){if(401===e.status)return void this.$router.push("/login");if(404===e.status)throw new Error("Товар не найден");throw new Error(`HTTP error! Status: ${e.status}`)}const a=await e.json();this.product=a}catch(e){console.error("Ошибка при получении данных товара:",e),this.errorMessage=e.message}finally{this.loading=!1}},formatDate(t){if(!t)return"N/A";const e=new Date(t);return e.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})}}};const Ee=(0,b.A)(_e,[["render",we],["__scopeId","data-v-d9a29f82"]]);var Pe=Ee;const xe=[{path:"/",component:F},{path:"/about",component:G},{path:"/contact",component:rt},{path:"/clients",component:Lt},{path:"/products",component:Tt},{path:"/login",component:Mt},{path:"/register",component:Zt},{path:"/view-clients/:id",component:de},{path:"/view-products/:id",component:Pe}],Ce=(0,_.aE)({history:(0,_.LA)(),routes:xe});var Xe=Ce;const Ae=(0,s.Ef)(w);Ae.use(Xe),Ae.mount("#app")}},e={};function a(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,s,r,n){if(!s){var l=1/0;for(u=0;u<t.length;u++){s=t[u][0],r=t[u][1],n=t[u][2];for(var o=!0,i=0;i<s.length;i++)(!1&n||l>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[i])}))?s.splice(i--,1):(o=!1,n<l&&(l=n));if(o){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,r,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,n,l=s[0],o=s[1],i=s[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(i)var u=i(a)}for(e&&e(s);c<l.length;c++)n=l[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(u)},s=self["webpackChunkvueapp"]=self["webpackChunkvueapp"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(750)}));s=a.O(s)})();
//# sourceMappingURL=app.526df65a.js.map